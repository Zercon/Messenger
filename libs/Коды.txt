Итак, тут я постараюсь описать соотношение кодов.

Во-первых, коды "итемов":
 1 - строка;
 2 - код(число в 1 байт).
 Список может пополняться.

 Во-вторых, коды команд( это первый байт каждой команды):
 1 - регистрация пользователя;
 2 - авторизация пользователя;
 3 - пинг;
 4 - запрос списка контактов;
 5 - запрос диалога с контактом;

 Коды ответов на эти команды формируется так код_запроса + 128.

 Содержание команд и ответов к ним.
 Регистрация.
   Команда содержит два поля(в будующем может поменяться): "итем" со строкой с логином и "итем" со строкой паролем.
   По этим данным сервер попытается создать запись с логином и паролем в соответствии с переданными ему параметрами.
   Ответ содержит в себе "итем" с кодом: 1 - аккаунт успешно создан;
										 2 - аккаунт с таким логином уже есть;
										 3 - ошибка.

Авторизация пользователя.
   Команда содержит два поля: "итем" со строкой с логином и "итем" со строкой паролем.
   По этим данным сервер проверит о наличии записи с логином и паролем в соответствии с переданными ему параметрами.
   Ответ содержит в себе "итем" с кодом: 1 - успешный вход;
										 2 - неверный логи или пароль;
										 3 - ошибка.

Пинг
	Команда используется для проверки связи сервера с клиентом. Не содержит никаких "итемов". В ответ приходит команда с точно такимиже значениями.

Запрос списка контактов.
	Команда не содержит дополнительных полей.
	Ответ содержит в себе ItmeCount "итемов" со строками, в которых хранятся догины всех пользоваетлей.
	После этого сервер в произвольное время может присылать ещё ответы, в которых могут хранится новые логины.

Запрос диалога с контактом
	Команда содердит один итем со строкой, в которой хранится логин контакта, диалог с которым необходимо показать.
	Ответ выглядит так.
		Сперва приходит ответ с двумя итемами. Первый содержит код:
														1 - контакт найден, диалог передается.
														2 - контакт не найден.
														3 - ошибка.
		Второй код, который следует интерпритировать как количество ответов с сообщениями будет переданно:
																											0 - на коды 2 и 3 предыдущего итема и если диалог не содержит сообщения
																											n - количество ответов, которые будут переданны.
		Если код был 1, то после будет переданно n ответов содержащие только строковые итемы, который будут идти так login message.